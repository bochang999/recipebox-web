<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>PWA Template</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2C3E50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    
    <!-- Capacitor ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿ (APKç’°å¢ƒã§ã®å‹•ä½œç¢ºä¿) -->
    <script>
        // APKç’°å¢ƒã§ã®Capacitoræ¤œå‡º
        if (typeof window.Capacitor !== 'undefined') {
            // ãƒã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒã§ã¯è‡ªå‹•çš„ã«åˆ©ç”¨å¯èƒ½
            console.log('âœ… ãƒã‚¤ãƒ†ã‚£ãƒ–Capacitorç’°å¢ƒæ¤œå‡º');
        } else {
            // Webç’°å¢ƒã§ã®ã¿CDNèª­ã¿è¾¼ã¿
            console.log('ğŸŒ Webç’°å¢ƒã§Capacitor CDNèª­ã¿è¾¼ã¿');
            document.write('<script src="https://unpkg.com/@capacitor/core@7/dist/capacitor.js"><\/script>');
        }
    </script>
</head>
<body>
    <div class="app-container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="app-header">
            <div class="header-title">
                <h1>ğŸš€ PWA Template</h1>
                <div class="current-time" id="currentTime"></div>
            </div>
            <div class="header-actions">
                <button class="header-btn" onclick="app.showSettings()">âš™ï¸ è¨­å®š</button>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
        <main id="main-content" class="main-content">
            
            <!-- Welcome Section -->
            <section class="welcome-section card">
                <h2>ğŸ¯ PWAâ†’APK é–‹ç™ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h2>
                <p>ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€PWAã‹ã‚‰APKã¸ã®å¤‰æ›é–‹ç™ºã‚’æœ€é€Ÿã§å§‹ã‚ã‚‰ã‚Œã¾ã™ã€‚</p>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“±</div>
                        <div class="feature-title">PWAå¯¾å¿œ</div>
                        <div class="feature-desc">ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“¦</div>
                        <div class="feature-title">APKè‡ªå‹•ãƒ“ãƒ«ãƒ‰</div>
                        <div class="feature-desc">GitHub Actionsè‡ªå‹•åŒ–æ¸ˆã¿</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ¨</div>
                        <div class="feature-title">ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI</div>
                        <div class="feature-desc">ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">âš™ï¸</div>
                        <div class="feature-title">è¨­å®šã‚·ã‚¹ãƒ†ãƒ </div>
                        <div class="feature-desc">LocalStorageè‡ªå‹•ä¿å­˜</div>
                    </div>
                </div>
            </section>

            <!-- ã‚µãƒ³ãƒ—ãƒ«æ©Ÿèƒ½ã‚¨ãƒªã‚¢ -->
            <section class="sample-section">
                
                <!-- ã‚µãƒ³ãƒ—ãƒ«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ -->
                <div class="sample-card card">
                    <h3>ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«æ©Ÿèƒ½: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</h3>
                    <div class="counter-display">
                        <div class="counter-value" id="counterValue">0</div>
                        <div class="counter-controls">
                            <button class="btn btn-primary" onclick="app.incrementCounter()">+1</button>
                            <button class="btn btn-secondary" onclick="app.decrementCounter()">-1</button>
                            <button class="btn btn-danger" onclick="app.resetCounter()">ãƒªã‚»ãƒƒãƒˆ</button>
                        </div>
                    </div>
                </div>

                <!-- ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚µãƒ³ãƒ—ãƒ« -->
                <div class="data-card card">
                    <h3>ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚µãƒ³ãƒ—ãƒ«</h3>
                    <div class="data-controls">
                        <button class="btn btn-primary" onclick="app.saveData()">ãƒ‡ãƒ¼ã‚¿ä¿å­˜</button>
                        <button class="btn btn-secondary" onclick="app.loadData()">ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿</button>
                        <button class="btn btn-danger" onclick="app.clearData()">ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢</button>
                    </div>
                    <div class="data-status" id="dataStatus">ãƒ‡ãƒ¼ã‚¿ãªã—</div>
                </div>

            </section>

        </main>

        <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>âš™ï¸ ã‚¢ãƒ—ãƒªè¨­å®š</h3>
                    <button class="modal-close" onclick="app.hideSettings()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h4>åŸºæœ¬è¨­å®š</h4>
                        
                        <div class="form-group">
                            <label>ã‚¢ãƒ—ãƒªå</label>
                            <input type="text" id="settingAppName" value="PWA Template" placeholder="ã‚¢ãƒ—ãƒªåã‚’å…¥åŠ›">
                        </div>
                        
                        <div class="form-group">
                            <label>ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼</label>
                            <select id="settingTheme">
                                <option value="default">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</option>
                                <option value="dark">ãƒ€ãƒ¼ã‚¯</option>
                                <option value="light">ãƒ©ã‚¤ãƒˆ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>ãƒ‡ãƒ¼ã‚¿è‡ªå‹•ä¿å­˜</label>
                            <input type="checkbox" id="settingAutoSave" checked>
                        </div>
                    </div>
                    
                    <div class="settings-actions">
                        <button class="btn btn-primary" onclick="app.saveSettings()">è¨­å®šã‚’ä¿å­˜</button>
                        <button class="btn btn-secondary" onclick="app.resetSettings()">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    
    <footer style="text-align: center; padding: 10px; border-top: 1px solid #ccc; font-size: 12px; color: #888;">
        PWAâ†’APK Template Ver. 1.0 - é–‹ç™ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    </footer>

    <script src="script.js"></script>
    
    <!-- APK Status BaråˆæœŸåŒ– -->
    <script>
        // APKç’°å¢ƒã§ã®Status Barè¨­å®š
        document.addEventListener('DOMContentLoaded', async function() {
            if (window.Capacitor && window.Capacitor.isNativePlatform()) {
                try {
                    console.log('ğŸ”§ APK Status BaråˆæœŸåŒ–é–‹å§‹');
                    
                    // Status Barãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã®ã¿å®Ÿè¡Œ
                    if (window.Capacitor.Plugins.StatusBar) {
                        await window.Capacitor.Plugins.StatusBar.setStyle({
                            style: 'DARK'
                        });
                        await window.Capacitor.Plugins.StatusBar.setBackgroundColor({
                            color: '#2C3E50'
                        });
                        await window.Capacitor.Plugins.StatusBar.setOverlaysWebView({
                            overlay: false
                        });
                        console.log('âœ… APK Status Barè¨­å®šå®Œäº†');
                    }
                } catch (error) {
                    console.log('âš ï¸ Status Barè¨­å®šå¤±æ•—:', error);
                }
            }
        });
    </script>
    
    <!-- Service Workerç™»éŒ² (PWAå¯¾å¿œ) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js')
                    .then(function(registration) {
                        console.log('âœ… Service Workerç™»éŒ²æˆåŠŸ:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('âŒ Service Workerç™»éŒ²å¤±æ•—:', error);
                    });
            });
        }
    </script>
</body>
</html>